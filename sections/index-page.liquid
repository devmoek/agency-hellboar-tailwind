<main>
  <!-- Our Merchandise Section -->
  <section style="background: #000;display:flex;flex-direction: column;gap: 60px;">
    <div class="section merchandise-section" id="merchandise">
      <div class="container">
        <h2 class="section-title">{{ section.settings.merchandise_title | default: 'Our Merchandise Shop' }}</h2>
        <p class="section-subtitle">{{ section.settings.merchandise_subtitle | default: 'More chances to win if you are in' }}</p>

        {% if section.settings.collection != blank %}
          {% assign collection = collections[section.settings.collection] %}
          {% assign products_limit = section.settings.products_limit | default: 9 %}

          <div class="merchandise-grid">
            {% assign skip_card_product_styles = false %}
            {% for product in collection.products limit: products_limit %}
              {% assign lazy_load = false %}
              {%- if forloop.index > 2 -%}
                {%- assign lazy_load = true -%}
              {%- endif -%}
              {% assign show_featured_badge = false %}
              {%- if forloop.first -%}
                {%- assign show_featured_badge = true -%}
              {%- endif -%}
              <div class="merchandise-grid-item">
                {% render 'card-product'
                  , card_product: product
                  , media_aspect_ratio: 'square'
                  , show_vendor: false
                  , show_rating: false
                  , lazy_load: lazy_load
                  , skip_styles: skip_card_product_styles
                  , section_id: section.id
                  , show_featured_badge: show_featured_badge
                %}
              </div>
              {%- assign skip_card_product_styles = true -%}
            {% endfor %}
          </div>

          {% if section.settings.show_cta_button %}
            <div class="merchandise-cta">
              <a href="{{ routes.collections_url }}/all-products" class="cta-button">
                {{ section.settings.cta_button_text | default: 'Shop all' }}
              </a>
            </div>
          {% endif %}
        {% else %}
          <div style="text-align: center; padding: 60px 20px; color: #f2f2f2;">
            <p>Please select a collection in the theme editor to display products.</p>
          </div>
        {% endif %}
      </div>
    </div>
  </section>

  <section
    class="testimonials"
    id="testimonials"
    style="background:#000;">
    <div class="container">
      <h2 class="section-title">Previous Giveaway Winners</h2>
      <div class="testimonial-slider">
        <div class="testimonial-slide active">
          <div class="testimonial-content">
            <div class="testimonial-image">
              <img
                src="https://cdn.shopify.com/s/files/1/0667/8036/4971/files/ph2.png?v=1759326219"
                alt="Dawid Blazej - Tesla CyberBeast Winner"
                class="winner-photo"
                width="200"
                height="200"
                loading="lazy">
            </div>
            <div class="testimonial-text-content">
              <p class="testimonial-text">
                Thanks to everyone who entered!
                <span class="highlight">The Beast Car Giveaway #01</span>
                has ended, and the winner has been selected in accordance with our official rules.</p>
              <p class="testimonial-author">- Tesla CyberBeast Winner</p>
            </div>
          </div>
        </div>

      <div class="testimonial-slide active">
        <div class="testimonial-content">
          <div class="testimonial-image">
            <img
              src="https://cdn.shopify.com/s/files/1/0667/8036/4971/files/rfafelffclean.png?v=1768416809"
              alt="Rafael Gomez - Chevrolet Corvette C8 Winner"
              class="winner-photo"
              width="432"
              height="243"
              loading="lazy">
          </div>
          <div class="testimonial-text-content">
            <p class="testimonial-text">
              Thanks to everyone who entered!
              <span class="highlight">The Beast Car Giveaway #02</span>
              has ended, and the winner will be announced in accordance with our official rules.</p>
            <p class="testimonial-author">- Chevrolet Corvette C8 Winner</p>
          </div>
        </div>
      </div>


      </div>

    </div>
  </section>
</main>

{% schema %}
  {
    "name": "Index Page",
    "settings": [
      {
        "type": "header",
        "content": "Merchandise Section"
      },
      {
        "type": "text",
        "id": "merchandise_title",
        "label": "Merchandise Section Title",
        "default": "Our Merchandise Shop"
      },
      {
        "type": "text",
        "id": "merchandise_subtitle",
        "label": "Merchandise Section Subtitle",
        "default": "More chances to win if you are in"
      },
      {
        "type": "collection",
        "id": "collection",
        "label": "Collection",
        "info": "Select a collection to display products"
      },
      {
        "type": "range",
        "id": "products_limit",
        "label": "Number of products to show",
        "min": 3,
        "max": 12,
        "step": 3,
        "default": 9
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Product Button Text",
        "default": "Shop Now"
      },
      {
        "type": "checkbox",
        "id": "show_cta_button",
        "label": "Show CTA Button",
        "default": true
      },
      {
        "type": "text",
        "id": "cta_button_text",
        "label": "CTA Button Text",
        "default": "View All Merchandise"
      }
    ],
    "presets": [
      {
        "name": "Index Page"
      }
    ]
  }
{% endschema %}